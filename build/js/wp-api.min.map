{"version":3,"sources":["wp-api.js"],"names":["factory","root","self","global","define","amd","_","$","Backbone","exports","require","jQuery","Zepto","ender","window","wp","wpApiSettings","undefined","WP_API","this","models","collections","views","api","versionString","pad","r","utils","Date","prototype","toISOString","number","String","length","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","slice","parseISO8601","date","timestamp","struct","i","k","minutesOffset","numericKeys","exec","UTC","parse","NaN","getRootUrl","location","origin","protocol","host","capitalize","str","isUndefined","charAt","toUpperCase","extractRoutePart","route","part","routeParts","replace","split","reverse","extractParentName","name","lastSlash","lastIndexOf","substr","pop","WPApiBaseModel","Model","extend","sync","method","model","options","beforeSend","nonce","isNull","xhr","setRequestHeader","apply","arguments","save","attrs","contains","methods","call","destroy","Schema","url","WPApiBaseCollection","Collection","initialize","state","data","currentPage","totalPages","totalObjects","parent","success","clone","page","textStatus","request","parseInt","getResponseHeader","more","hasMore","fetch","endpointLoading","init","apiRoot","schemaModel","apiConstructor","Deferred","sessionStorage","getItem","JSON","constructFromSchema","newSchemaModel","setItem","stringify","error","promise","modelRoutes","collectionRoutes","schemaRoot","loadingObjects","each","get","index","endsWith","push","modelRoute","modelClassName","routeName","parentName","decorateFromRoute","endpoints","collectionRoute","collectionClassName","defer","resolve","routeEndpoints","modelInstance","routeEndpoint","isEmpty","args","defaults","union","theDefault","done","endpoint"],"mappings":"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","file":"wp-api.min.js"}