{"version":3,"sources":["wp-api.js"],"names":["factory","root","self","global","define","amd","_","$","exports","Backbone","require","e","jQuery","Zepto","ender","window","wpApiSettings","undefined","WP_API","this","models","collections","views","wp","api","versionString","pad","r","utils","Date","prototype","toISOString","number","String","length","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","slice","parseISO8601","date","timestamp","struct","i","k","minutesOffset","numericKeys","exec","UTC","parse","NaN","getRootUrl","location","origin","protocol","host","capitalize","str","isUndefined","charAt","toUpperCase","extractRoutePart","route","part","routeParts","replace","split","reverse","extractParentName","name","lastSlash","lastIndexOf","substr","pop","WPApiBaseModel","Model","extend","sync","method","model","options","beforeSend","nonce","isNull","xhr","setRequestHeader","apply","arguments","save","attrs","contains","methods","call","destroy","Schema","url","WPApiBaseCollection","Collection","initialize","state","data","currentPage","totalPages","totalObjects","parent","success","clone","page","textStatus","request","parseInt","getResponseHeader","more","hasMore","fetch","endpointLoading","init","apiRoot","schemaModel","apiConstructor","Deferred","sessionStorage","getItem","JSON","constructFromSchema","newSchemaModel","setItem","stringify","error","promise","modelRoutes","collectionRoutes","schemaRoot","loadingObjects","each","get","index","endsWith","push","modelRoute","modelClassName","routeName","parentName","decorateFromRoute","endpoints","collectionRoute","collectionClassName","defer","resolve","routeEndpoints","modelInstance","routeEndpoint","isEmpty","args","defaults","union","theDefault","done","endpoint"],"mappings":"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","file":"wp-api.min.js"}