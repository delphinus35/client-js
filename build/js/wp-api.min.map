{"version":3,"sources":["wp-api.js"],"names":["factory","root","self","global","define","amd","_","$","exports","Backbone","require","e","jQuery","Zepto","ender","window","undefined","WP_API","this","models","collections","views","wp","api","versionString","pad","r","utils","Date","prototype","toISOString","number","String","length","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","slice","parseISO8601","date","timestamp","struct","i","k","minutesOffset","numericKeys","exec","UTC","parse","NaN","getRootUrl","location","origin","protocol","host","capitalize","str","isUndefined","charAt","toUpperCase","extractRoutePart","route","part","routeParts","replace","split","reverse","extractParentName","name","lastSlash","lastIndexOf","substr","pop","wpApiSettings","WPApiBaseModel","Model","extend","sync","method","model","options","beforeSend","nonce","isNull","xhr","setRequestHeader","apply","arguments","save","attrs","contains","methods","call","destroy","Schema","url","WPApiBaseCollection","Collection","initialize","state","data","currentPage","totalPages","totalObjects","parent","success","clone","page","textStatus","request","parseInt","getResponseHeader","more","hasMore","fetch","endpointLoading","init","apiRoot","schemaModel","apiConstructor","Deferred","sessionStorage","getItem","JSON","constructFromSchema","newSchemaModel","setItem","stringify","error","promise","modelRoutes","collectionRoutes","schemaRoot","loadingObjects","each","get","index","endsWith","push","modelRoute","modelClassName","routeName","parentName","decorateFromRoute","endpoints","collectionRoute","collectionClassName","defer","resolve","routeEndpoints","modelInstance","routeEndpoint","isEmpty","args","defaults","union","theDefault","done","endpoint"],"mappings":"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","file":"wp-api.min.js"}